{"version":3,"file":"js/308.466c1996.js","mappings":"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","sources":["webpack://vue_proyecto/./src/components/FormError.vue","webpack://vue_proyecto/./src/components/FormError.vue?24dc","webpack://vue_proyecto/./src/views/ContactView.vue","webpack://vue_proyecto/./src/views/ContactView.vue?405e"],"sourcesContent":["<template>\n    <div class=\"form__error\" id=\"formError\">\n        <p>{{ this.$props.message }}</p>\n    </div>\n</template>\n\n<script>\n    export default {\n        props: {\n            message: {type: String, required: false}\n        },\n    }\n</script>","import { render } from \"./FormError.vue?vue&type=template&id=7f90dda3\"\nimport script from \"./FormError.vue?vue&type=script&lang=js\"\nexport * from \"./FormError.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n    <section class=\"form__container\">\n        <h1>Enviar ticket a soporte</h1>\n        <form @submit.prevent=\"sendTicket\">\n            <fieldset class=\"form__row\">\n                <div class=\"form__column__small\">\n                    <label for=\"formEmail\" class=\"form__label\">Email de contacto</label>\n                </div>\n                <div class=\"form__column__big\">\n                    <input type=\"text\" v-model=\"formEmail\" id=\"formEmail\" ref=\"formEmail\" name=\"email\" class=\"form__input\" @blur=\"validateField(this.$refs.formEmail)\">\n                </div>\n            </fieldset>\n            <fieldset class=\"form__row\">\n                <div class=\"form__column__small\">\n                    <label for=\"formText\" class=\"form__label\">Describa su problema</label>\n                </div>\n                <div class=\"form__column__big\">\n                    <textarea v-model=\"formText\" id=\"formText\" ref=\"formText\" name=\"contenido\" class=\"form__input\" @blur=\"validateField(this.$refs.formText)\"></textarea>\n                </div>\n            </fieldset>\n            <fieldset class=\"form__row\">\n                <button @submit=\"sendTicket\" class=\"form__button\" ref=\"submitButton\" disabled>Enviar</button>\n            </fieldset>\n        </form>\n    </section>\n</template>\n\n<script>\n    import { render, h } from 'vue'\n    import FormError from \"../components/FormError.vue\"\n    export default {\n        data() {\n            return {\n                formEmail: \"\",\n                formText: \"\"\n            }\n        },\n        methods: {\n            async sendTicket() {\n                const data = await fetch('http://localhost:8000/api/tickets', {\n                    method: \"post\",\n                    headers: {\n                        'Accept': 'application/json',\n                        'Content-Type': 'application/json'\n                    },\n                    body: JSON.stringify({\n                        contactEmail: this.formEmail,\n                        text: this.formText,\n                    })\n                })\n                const response = await data.json()\n                this.$router.push(\"/\")\n            },\n            validateField(field) {\n                const emailRegex = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|.(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\n                if (field.value === \"\") {\n                    this.createFormError(`Error, el campo ${field.name} debe tener un valor`, field.parentElement)\n                    return\n                }\n                else if (field.name === \"email\" && !field.value.toLowerCase().match(emailRegex)) {\n                    this.createFormError(`Error, el campo ${field.name} debe contener un email vÃ¡lido`, field.parentElement)\n                    return\n                }\n                this.removeFormError()\n                this.changeSubmitButton(emailRegex)\n            },\n            createFormError(message, location) {\n                this.$refs.submitButton.setAttribute(\"disabled\", true)\n                const formError = h(FormError, {message: message})\n                render(formError, location)\n            },\n            removeFormError() {\n                const formError = document.querySelectorAll(\"#formError\")\n                formError.forEach((error) => {\n                    error.remove()\n                })\n            },\n            changeSubmitButton(emailRegex) {\n                if (this.$refs.formEmail.value !== \"\" && this.$refs.formEmail.value.toLowerCase().match(emailRegex) && this.$refs.formText.value !== \"\") {\n                    this.$refs.submitButton.removeAttribute(\"disabled\")\n                }\n            }\n        }\n    }\n</script>","import { render } from \"./ContactView.vue?vue&type=template&id=d7e154be\"\nimport script from \"./ContactView.vue?vue&type=script&lang=js\"\nexport * from \"./ContactView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","id","_createElementBlock","_hoisted_1","_createElementVNode","_toDisplayString","$props","message","props","type","String","required","__exports__","render","for","_hoisted_2","onSubmit","_cache","_withModifiers","args","$options","sendTicket","_hoisted_3","_hoisted_4","_hoisted_5","$event","$data","formEmail","ref","name","onBlur","validateField","this","$refs","_hoisted_6","_hoisted_7","_hoisted_8","formText","_hoisted_9","disabled","data","methods","fetch","method","headers","body","JSON","stringify","contactEmail","text","json","$router","push","field","emailRegex","value","toLowerCase","match","removeFormError","changeSubmitButton","createFormError","parentElement","location","submitButton","setAttribute","formError","h","FormError","document","querySelectorAll","forEach","error","remove","removeAttribute"],"sourceRoot":""}