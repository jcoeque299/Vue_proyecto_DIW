{"version":3,"file":"js/512.68e6902d.js","mappings":"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","sources":["webpack://vue_proyecto/./src/components/FormError.vue","webpack://vue_proyecto/./src/components/FormError.vue?24dc","webpack://vue_proyecto/./src/views/RegisterView.vue","webpack://vue_proyecto/./src/views/RegisterView.vue?1ec6"],"sourcesContent":["<template>\n    <div class=\"form__error\" id=\"formError\">\n        <p>{{ this.$props.message }}</p>\n    </div>\n</template>\n\n<script>\n    export default {\n        props: {\n            message: {type: String, required: false}\n        },\n    }\n</script>","import { render } from \"./FormError.vue?vue&type=template&id=7f90dda3\"\nimport script from \"./FormError.vue?vue&type=script&lang=js\"\nexport * from \"./FormError.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n    <section class=\"form__container\">\n        <h1>Registrarse</h1>\n        <form @submit.prevent=\"register\" class=\"form\">\n            <fieldset class=\"form__row\">\n                <div class=\"form__column__small\">\n                    <label for=\"formName\" class=\"form__label\">Nickname</label>\n                </div>\n                <div class=\"form__column__big\">\n                    <input type=\"text\" v-model=\"formName\" id=\"formName\" ref=\"formName\" name=\"nickname\" class=\"form__input\" @blur=\"validateField(this.$refs.formName)\">\n                </div>\n            </fieldset>\n            <fieldset class=\"form__row\">\n                <div class=\"form__column__small\">\n                    <label for=\"formEmail\" class=\"form__label\">Email</label>\n                </div>\n                <div class=\"form__column__big\">\n                    <input type=\"text\" v-model=\"formEmail\" id=\"formEmail\" ref=\"formEmail\" name=\"email\" class=\"form__input\" @blur=\"validateField(this.$refs.formEmail)\">\n                </div>\n            </fieldset>\n            <fieldset class=\"form__row\">\n                <div class=\"form__column__small\">\n                    <label for=\"formPassword\" class=\"form__label\">Contraseña</label>\n                </div>\n                <div class=\"form__column__big\">\n                    <input type=\"password\" v-model=\"formPassword\" id=\"formPassword\" ref=\"formPassword\" name=\"contraseña\" class=\"form__input\" @blur=\"validateField(this.$refs.formPassword)\">\n                </div>\n            </fieldset>\n            <fieldset class=\"form__row\">\n                <div class=\"form__column__small\">\n                    <label for=\"formLocation\" class=\"form__label\">Ubicacion</label>\n                </div>\n                <div class=\"form__column__big\">\n                    <select v-model=\"formLocation\" id=\"formLocation\" class=\"form__input\">\n                        <option v-for=\"country in countryData\" v-bind:value=\"country.code\">{{ country.name }}</option>\n                    </select>\n                </div>\n            </fieldset>\n            <fieldset class=\"form__row\">\n                <button @submit=\"register\" class=\"form__button\" ref=\"submitButton\" disabled>Registrarse</button>\n            </fieldset>\n        </form>\n    </section>\n</template>\n\n<script>\n    import {useCookies} from '@vueuse/integrations/useCookies'\n    import { render, h } from 'vue'\n    import FormError from \"../components/FormError.vue\"\n    import countryData from \"/src/data.json\"\n    const cookies = useCookies([\"token\"])\n    export default {\n        data() {\n            return {\n                formName: \"\",\n                formEmail: \"\",\n                formPassword: \"\",\n                formLocation: countryData[0].code,\n                countryData: countryData\n            }\n        },\n        methods: {\n            async register() {\n                const data = await fetch('http://localhost:8000/api/register', {\n                    method: \"post\",\n                    headers: {\n                        'Accept': 'application/json',\n                        'Content-Type': 'application/json'\n                    },\n                    body: JSON.stringify({\n                        name: this.formName,\n                        email: this.formEmail,\n                        password: this.formPassword,\n                        location: this.formLocation\n                    })\n                })\n                const response = await data.json()\n                if (response.statusCode === 200) {\n                    cookies.set(\"token\", response.token, {maxAge: 86400, sameSite: \"strict\", path:\"/\"})\n                    this.$router.push(\"/profile\")\n                }\n                else {\n                    this.createRegisterError()\n                }\n            },\n            validateField(field) {\n                const emailRegex = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|.(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\n                if (field.value === \"\") {\n                    this.createFormError(`Error, el campo ${field.name} debe tener un valor`, field.parentElement)\n                    return\n                }\n                else if (field.name === \"email\" && !field.value.toLowerCase().match(emailRegex)) {\n                    this.createFormError(`Error, el campo ${field.name} debe contener un email válido`, field.parentElement)\n                    return\n                }\n                else if (field.type === \"password\" && field.value.length < 8) {\n                    this.createFormError(`Error, el campo ${field.name} debe contener 8 caracteres como mínimo`, field.parentElement)\n                    return\n                }\n                this.removeFormError()\n                this.changeSubmitButton(emailRegex)\n            },\n            createRegisterError() {\n                const formError = h(FormError, {message: 'Nickname o correo ya registrado'})\n                render(formError, this.$el)\n            },\n            createFormError(message, location) {\n                this.$refs.submitButton.setAttribute(\"disabled\", true)\n                const formError = h(FormError, {message: message})\n                render(formError, location)\n            },\n            removeFormError() {\n                const formError = document.querySelectorAll(\"#formError\")\n                formError.forEach((error) => {\n                    error.remove()\n                })\n            },\n            changeSubmitButton(emailRegex) {\n                if (this.$refs.formName.value !== \"\" && this.$refs.formEmail.value !== \"\" && this.$refs.formEmail.value.toLowerCase().match(emailRegex) && this.$refs.formPassword.value !== \"\") {\n                    this.$refs.submitButton.removeAttribute(\"disabled\")\n                }\n            }\n        }\n    }\n</script>","import { render } from \"./RegisterView.vue?vue&type=template&id=4961a0b0\"\nimport script from \"./RegisterView.vue?vue&type=script&lang=js\"\nexport * from \"./RegisterView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","id","_createElementBlock","_hoisted_1","_createElementVNode","_toDisplayString","$props","message","props","type","String","required","__exports__","render","for","_hoisted_2","onSubmit","_cache","_withModifiers","args","$options","register","_hoisted_3","_hoisted_4","_hoisted_5","$event","$data","formName","ref","name","onBlur","validateField","this","$refs","_hoisted_6","_hoisted_7","_hoisted_8","formEmail","_hoisted_9","_hoisted_10","_hoisted_11","formPassword","_hoisted_12","_hoisted_13","_hoisted_14","formLocation","_Fragment","_renderList","countryData","country","value","code","_hoisted_15","_hoisted_16","disabled","cookies","useCookies","data","methods","fetch","method","headers","body","JSON","stringify","email","password","location","response","json","statusCode","set","token","maxAge","sameSite","path","$router","push","createRegisterError","field","emailRegex","toLowerCase","match","length","createFormError","parentElement","removeFormError","changeSubmitButton","formError","h","FormError","$el","submitButton","setAttribute","document","querySelectorAll","forEach","error","remove","removeAttribute"],"sourceRoot":""}