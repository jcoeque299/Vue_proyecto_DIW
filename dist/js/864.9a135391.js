"use strict";(self["webpackChunkvue_proyecto"]=self["webpackChunkvue_proyecto"]||[]).push([[864],{9940:function(e,r,t){t.d(r,{c:function(){return c}});var o=t(4108),a=t(9096);const s={class:"form__error",id:"formError"};function i(e,r,t,i,n,l){return(0,o.Wz)(),(0,o.An)("div",s,[(0,o.QD)("p",null,(0,a.WA)(this.$props.message),1)])}var n={props:{message:{type:String,required:!1}}},l=t(4100);const m=(0,l.c)(n,[["render",i]]);var c=m},1483:function(e,r,t){t.r(r),t.d(r,{default:function(){return E}});var o=t(4108),a=t(7764);const s={class:"form__container"},i=(0,o.QD)("h2",null,"Enviar ticket a soporte",-1),n={class:"form__row"},l=(0,o.QD)("div",{class:"form__column__small"},[(0,o.QD)("label",{for:"formEmail",class:"form__label"},"Email de contacto")],-1),m={class:"form__column__big"},c={class:"form__row"},f=(0,o.QD)("div",{class:"form__column__small"},[(0,o.QD)("label",{for:"formText",class:"form__label"},"Describa su problema")],-1),u={class:"form__column__big"},d={class:"form__row"};function _(e,r,t,_,p,h){return(0,o.Wz)(),(0,o.An)("section",s,[i,(0,o.QD)("form",{onSubmit:r[5]||(r[5]=(0,a.Y7)(((...e)=>h.sendTicket&&h.sendTicket(...e)),["prevent"]))},[(0,o.QD)("fieldset",n,[l,(0,o.QD)("div",m,[(0,o.wt)((0,o.QD)("input",{type:"text","onUpdate:modelValue":r[0]||(r[0]=e=>p.formEmail=e),id:"formEmail",ref:"formEmail",name:"email",class:"form__input",onBlur:r[1]||(r[1]=e=>h.validateField(this.$refs.formEmail))},null,544),[[a.Og,p.formEmail]])])]),(0,o.QD)("fieldset",c,[f,(0,o.QD)("div",u,[(0,o.wt)((0,o.QD)("textarea",{"onUpdate:modelValue":r[2]||(r[2]=e=>p.formText=e),id:"formText",ref:"formText",name:"contenido",class:"form__input",onBlur:r[3]||(r[3]=e=>h.validateField(this.$refs.formText))},null,544),[[a.Og,p.formText]])])]),(0,o.QD)("fieldset",d,[(0,o.QD)("button",{onSubmit:r[4]||(r[4]=(...e)=>h.sendTicket&&h.sendTicket(...e)),class:"form__button",ref:"submitButton",disabled:""},"Enviar",544)])],32)])}t(3248);var p=t(9940),h={data(){return{formEmail:"",formText:""}},methods:{async sendTicket(){const e=await fetch("http://localhost:8000/api/tickets",{method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({contactEmail:this.formEmail,text:this.formText})});await e.json();this.$router.push("/")},validateField(e){const r=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|.(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;""!==e.value?"email"!==e.name||e.value.toLowerCase().match(r)?(this.removeFormError(),this.changeSubmitButton(r)):this.createFormError(`Error, el campo ${e.name} debe contener un email vÃ¡lido`,e.parentElement):this.createFormError(`Error, el campo ${e.name} debe tener un valor`,e.parentElement)},createFormError(e,r){this.$refs.submitButton.setAttribute("disabled",!0);const t=(0,o.h)(p.c,{message:e});(0,a.ai)(t,r)},removeFormError(){const e=document.querySelectorAll("#formError");e.forEach((e=>{e.remove()}))},changeSubmitButton(e){""!==this.$refs.formEmail.value&&this.$refs.formEmail.value.toLowerCase().match(e)&&""!==this.$refs.formText.value&&this.$refs.submitButton.removeAttribute("disabled")}}},v=t(4100);const b=(0,v.c)(h,[["render",_]]);var E=b}}]);
//# sourceMappingURL=864.9a135391.js.map